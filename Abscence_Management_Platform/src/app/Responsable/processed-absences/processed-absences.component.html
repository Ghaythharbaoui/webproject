<div class="processed-absences">
    <h2>Historique des absences traitées</h2>
  
    <div *ngIf="loading">Chargement…</div>
    <div *ngIf="error" class="error">{{ error }}</div>
  
    <div *ngIf="!loading && absences.length === 0">
      Aucune absence traitée.
    </div>
  
    <div class="cards" *ngIf="absences.length > 0">
      <div class="card" *ngFor="let abs of absences">
        <h3>{{ abs.prenom }} {{ abs.nom }}</h3>
        <p><strong>Grade:</strong> {{ abs.grade }}</p>
        <p>
          <strong>Période:</strong>
          {{ abs.date_db | date:'dd/MM/yyyy' }}
          –
          {{ abs.date_fin | date:'dd/MM/yyyy' }}
        </p>
        <p>
          <strong>Séances:</strong>
          {{ abs.seancedb }} → {{ abs.seancefin }}
        </p>
        <p>
          <strong>Nombre d’absences:</strong> {{ abs.nbAbsences }}
        </p>
        <p>
          <strong>Statut:</strong>
          {{ abs.acceptee === 'oui' ? 'Acceptée' : 'Refusée' }}
        </p>
      </div>
    </div>
  </div>
